name: Run Instagram Bot

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Manual Checkout repository
      run: |
        git clone https://github.com/${{ github.repository }}.git .
        git checkout ${{ github.ref_name }}

    - name: Manual Set up Python
      run: |
        sudo apt-get update
        sudo apt-get install -y python3 python3-pip
        python3 -m pip install --upgrade pip

    - name: Install dependencies
      run: |
        pip install -r requirements.txt

    - name: Install Chromium and ChromeDriver
      run: |
        sudo apt-get update
        sudo apt-get install -y chromium-browser chromium-chromedriver

    - name: Run Instagram Bot
      run: |
        python3 botAccountCreate.py
